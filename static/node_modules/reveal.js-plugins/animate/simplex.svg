<svg width="800" height="700"
    xmlns="http://www.w3.org/2000/svg" version="1.1" 
    xmlns:xlink="http://www.w3.org/1999/xlink"
    onload="drawGrid(evt)"
>
<script>
function drawGrid(evt){
    for (var i = 0; 50*i &lt;=  700; i++) {
	gridline = document.createElementNS(document.rootElement.namespaceURI,"path");  
	gridline.setAttributeNS(null, "style", "stroke:#808080;stroke-width:0.4"); 
	gridline.setAttributeNS(null, "id", "horizontal_gridline" + i);  
	gridline.setAttributeNS(null, "d", "M 0,"+50*i + " L " + 800 +"," + 50*i);  
	document.rootElement.appendChild(gridline);
    }

    for (var i = 0; 50*i &lt;= 800; i++) {
	gridline = document.createElementNS(document.rootElement.namespaceURI,"path");  
	gridline.setAttributeNS(null, "style", "stroke:#808080;stroke-width:0.4"); 
	gridline.setAttributeNS(null, "id", "vertical_gridline" + i);  
	gridline.setAttributeNS(null, "d", "M "+50*i + ",0 L " + 50*i +"," + 700 );  
	document.rootElement.appendChild(gridline);
    }
}
</script>   
  <!--Arrow Tips -->
  <defs 
     id="ArrowTips">
    <marker
       refX="0"
       refY="0"
       orient="auto"
       id="ArrowLargeStart"
       style="overflow:visible">
      <path
         d="M 0,0 L 3.4,1.7 L 2.125,0 L 3.4,-1.7 L 0,0 z"
         style="fill:none;stroke:#000000;stroke-width:1;stroke-linejoin:miter;marker-start:none;stroke-miterlimit:5"
         id="path3201" />
    </marker>
    <marker
       refX="0"
       refY="0"
       orient="auto"
       id="ArrowLargeEnd"
       style="overflow:visible">
      <path
         d="M 0,0 L -3.4,1.7 L -2.125,0 L -3.4,-1.7 L 0,0 z"
         style="fill:none;stroke:#000000;stroke-width:1;stroke-linejoin:miter;marker-start:none;stroke-miterlimit:5"
         id="path3204" />
    </marker>
  </defs>
<!-- Axis -->
  <path
     d="M 400,5 L 400,700"
     id="y-axis"
     style="stroke:#000000;stroke-width:4;marker-start:url(#ArrowLargeStart)" />
  <path
     d="M 0,450 L 795,450"
     id="x-axis"
     style="stroke:#000000;stroke-width:4;marker-end:url(#ArrowLargeEnd)" />
<!-- Axis labels -->
  <g
     id="x-axislabel"
     transform="translate(460.80025,130)">
    <g
       word-spacing="normal"
       letter-spacing="normal"
       font-size-adjust="none"
       font-stretch="normal"
       font-weight="normal"
       font-variant="normal"
       font-style="normal"
       stroke-miterlimit="10.433"
       transform="matrix(1.0629921,0,0,-1.0629921,-186.02362,789.27165)">
       <path
         id="path2993"
         d="m 472.16,421.25 0.03,0.13 0.04,0.15 0.04,0.16 0.04,0.18 0.06,0.19 0.06,0.21 0.06,0.22 0.07,0.22 0.08,0.23 0.09,0.24 0.1,0.25 0.1,0.24 0.11,0.25 0.12,0.25 0.13,0.25 0.14,0.25 0.15,0.24 0.15,0.24 0.17,0.23 0.18,0.22 0.18,0.22 0.2,0.2 0.21,0.19 0.22,0.18 0.23,0.16 0.25,0.14 0.12,0.07 0.13,0.06 0.14,0.05 0.13,0.05 0.14,0.05 0.14,0.04 0.15,0.03 0.15,0.03 0.15,0.02 0.16,0.02 0.16,0.01 0.16,0 c 0.25,0 1.44,0 2.48,-0.64 -1.39,-0.25 -2.39,-1.5 -2.39,-2.69 0,-0.79 0.55,-1.75 1.89,-1.75 1.1,0 2.69,0.89 2.69,2.89 0,2.6 -2.94,3.28 -4.63,3.28 -2.89,0 -4.64,-2.64 -5.23,-3.78 -1.25,3.28 -3.94,3.78 -5.37,3.78 -5.19,0 -8.04,-6.42 -8.04,-7.67 0,-0.5 0.5,-0.5 0.61,-0.5 0.39,0 0.55,0.11 0.64,0.55 1.69,5.28 4.99,6.53 6.68,6.53 0.95,0 2.68,-0.44 2.68,-3.33 0,-1.54 -0.84,-4.89 -2.68,-11.86 -0.8,-3.09 -2.54,-5.18 -4.74,-5.18 -0.3,0 -1.44,0 -2.48,0.65 1.25,0.24 2.34,1.28 2.34,2.69 0,1.34 -1.09,1.73 -1.84,1.73 -1.5,0 -2.75,-1.29 -2.75,-2.89 0,-2.28 2.5,-3.28 4.68,-3.28 3.3,0 5.08,3.49 5.24,3.78 0.59,-1.84 2.39,-3.78 5.37,-3.78 5.14,0 7.99,6.42 7.99,7.67 0,0.5 -0.45,0.5 -0.61,0.5 -0.44,0 -0.55,-0.2 -0.64,-0.54 -1.64,-5.33 -5.03,-6.53 -6.63,-6.53 -1.95,0 -2.75,1.59 -2.75,3.29 0,1.1 0.3,2.19 0.86,4.38 z"
         style="fill:#000000;stroke-width:0" /></g>  </g>
  <g
     id="y-axislabel"
     transform="translate(59.325061,-322.39275)">
    <g
       word-spacing="normal"
       letter-spacing="normal"
       font-size-adjust="none"
       font-stretch="normal"
       font-weight="normal"
       font-variant="normal"
       font-style="normal"
       stroke-miterlimit="10.433"
       transform="matrix(1.0629921,0,0,-1.0629921,-186.02362,789.27165)"
       id="g63">
       <path
         id="path65"
         d="m 479.74,425.18 0.01,0.04 0.01,0.03 0.01,0.06 0.02,0.05 0.01,0.06 0.01,0.05 0.02,0.04 0.01,0.05 0.01,0.04 0.01,0.04 0,0.04 0.01,0.04 0.01,0.04 0.01,0.03 0,0.03 0.01,0.03 0,0.03 0.01,0.03 0,0.03 0.01,0.05 0,0.06 0,0.05 0,0.05 0.01,0.05 0,0.03 0,0.03 0,0.03 0,0.03 c 0,0.91 -0.69,1.35 -1.44,1.35 -0.5,0 -1.3,-0.3 -1.75,-1.05 -0.1,-0.25 -0.5,-1.78 -0.69,-2.69 -0.36,-1.29 -0.7,-2.64 -1,-3.98 l -2.25,-8.97 c -0.19,-0.75 -2.33,-4.23 -5.62,-4.23 -2.54,0 -3.1,2.18 -3.1,4.03 0,2.29 0.86,5.39 2.55,9.76 0.8,2.05 1,2.6 1,3.6 0,2.23 -1.59,4.07 -4.09,4.07 -4.74,0 -6.58,-7.21 -6.58,-7.67 0,-0.5 0.5,-0.5 0.61,-0.5 0.5,0 0.54,0.11 0.79,0.91 1.35,4.69 3.33,6.17 5.03,6.17 0.4,0 1.25,0 1.25,-1.59 0,-1.25 -0.5,-2.53 -0.85,-3.49 -1.99,-5.28 -2.9,-8.12 -2.9,-10.47 0,-4.42 3.15,-5.92 6.08,-5.92 1.96,0 3.64,0.85 5.03,2.24 -0.64,-2.58 -1.23,-5.03 -3.23,-7.68 -1.3,-1.68 -3.19,-3.14 -5.48,-3.14 -0.69,0 -2.94,0.16 -3.79,2.1 0.8,0 1.46,0 2.14,0.61 0.5,0.43 1,1.09 1,2.03 0,1.55 -1.34,1.75 -1.84,1.75 -1.14,0 -2.8,-0.8 -2.8,-3.24 0,-2.5 2.21,-4.34 5.29,-4.34 5.14,0 10.26,4.55 11.67,10.17 z"
         style="fill:#000000;stroke-width:0" /></g>  </g>
<!-- Add graph content here-->

  <g
     id="y geq 0">
    <rect
       width="800"
       height="250"
       x="0"
       y="450"
       style="fill:#55aaff;fill-opacity:0.4"
       id="rect3271" />
    <path
       d="M 0,450 L 800,450"
       style="stroke:#0000ff;stroke-width:5;"
       id="path3273" />
  </g>
  <g
     id="x geq 0">
    <rect
       width="400"
       height="700"
       x="0"
       y="0"
       style="fill:#55aaff;fill-opacity:0.4"
       id="rect3276" />
    <path
       d="M 400,0 L 400,700"
       style="stroke:#0000ff;stroke-width:5;"
       id="path3278" />
  </g>
  <g
     id="x leq 4">
    <rect
       width="200"
       height="700"
       x="600"
       y="0"
       style="fill:#55aaff;fill-opacity:0.4"
       id="rect3281" />
    <path
       d="M 600,0 L 600,700"
       style="stroke:#0000ff;stroke-width:5;"
       id="path3283" />
  </g>
  <g
     id="y leq 6">
    <rect
       width="800"
       height="150"
       x="0"
       y="0"
       style="fill:#55aaff;fill-opacity:0.4"
       id="rect3286" />
    <path
       d="M 0,150 L 800,150"
       style="stroke:#0000ff;stroke-width:5;"
       id="path3288" />
  </g>
  <g
     id="3x+2y leq 18">
    <path
       d="M 400,0 L 800,600 L800,0"
       style="fill:#55aaff;fill-opacity:0.4"
       id="path3291" />
    <path
       d="M 400,0 L 800,600"
       style="stroke:#0000ff;stroke-width:5;"
       id="path3293" />
  </g>

  <path
     d="M 400,355 L 400,450"
     id="moveUp1"
     opacity="0"
     style="stroke:#000000;stroke-width:5;marker-start:url(#ArrowLargeStart)" />
  <path
     d="M 400,450 L 495,450"
     id="moveRight1"
     opacity="0"
     style="stroke:#000000;stroke-width:5;marker-end:url(#ArrowLargeEnd)" />
  <path
     d="M 400,150 L 495,150"
     id="moveRight2"
     opacity="0"
     style="stroke:#000000;stroke-width:5;marker-end:url(#ArrowLargeEnd)" />
  <path
     d="M 400,245 L 400,150"
     id="moveDown2"
     opacity="0"
     style="stroke:#000000;stroke-width:5;marker-start:url(#ArrowLargeStart)" />
  <path
     d="M 500,150 L 405,150"
     id="moveLeft3"
     opacity="0"
     style="stroke:#000000;stroke-width:5;marker-end:url(#ArrowLargeEnd)" />
  <path
     d="M 500,150 L 555,232"
     id="moveRight3"
     opacity="0"
     style="stroke:#000000;stroke-width:5;marker-end:url(#ArrowLargeEnd)" />
<g>
  <g
     id="3x+5y">
    <path
       d="M 0,210 L 800,690"
       style="stroke:#ff0000;stroke-width:5;"
       id="path3293" />
    <animateTransform id="anim"
            attributeName="transform"
            begin="indefinite"
            dur="5s"
            type="translate"
            from="0 0"
            to="0 -360"
	    fill="freeze"
    />
  </g>
  <g id="solution">
    <circle cx="400" cy="450" r="7.5"  style="fill:#ff0000; stroke:none;"/>
    <circle id="focus" cx="400" cy="450" r="500" opacity="0.7" style="fill:none; stroke:#000000;stroke-width:800"/>
    <animateTransform id="animFocus"
            attributeName="transform"
            begin="indefinite"
            dur="5s"
            type="translate"
            from="0 0"
            to="0 -360"
	    fill="freeze"
    />
    <animateTransform id="animFocus2"
            attributeName="transform"
            begin="indefinite"
            dur="5s"
            type="translate"
            from="0 0"
            to="0 -360"
	    fill="freeze"
    />
  </g>
   <animateTransform id="animFocusObjective"
            attributeName="transform"
            begin="animFocus.end"
            dur="4s"
            type="translate"
            from="0 0"
            to="0 -200"
	    fill="freeze"
   />
</g>

<script type="text/ecmascript"><![CDATA[
    var state=0;
    function clickongrid(evt) {
//	alert( state );
	if ( state == 0 ) {
		document.getElementById("moveUp1").setAttribute("opacity","1");
		document.getElementById("moveRight1").setAttribute("opacity","1");
	}
	else if ( state == 1 ) {
	      el = document.getElementById('anim');
	      el.setAttribute("from", "0 0");
	      el.setAttribute("to", "0 -100");
	      el.setAttribute("dur", "2s");
	      el.beginElement();
	}
	else if ( state == 2 ) {
	      document.getElementById("moveUp1").setAttribute("opacity","0");
	      document.getElementById("moveRight1").setAttribute("opacity","0");
	      el = document.getElementById('animFocus');
	      el.setAttribute("from", "0 0");
	      el.setAttribute("to", "0 -100");
	      el.setAttribute("dur", "2s");
	      el.beginElement();
	}
	else if ( state == 3 ) {
	      document.getElementById("moveRight2").setAttribute("opacity","1");
	      document.getElementById("moveDown2").setAttribute("opacity","1");
	}
	else if ( state == 4 ) {
	      el = document.getElementById('anim');
	      el.setAttribute("from", "0 -100");
	      el.setAttribute("to", "0 -160");
	      el.setAttribute("dur", "1.2s");
	      el.beginElement();
	}
	else if ( state == 5 ) {
	      document.getElementById("moveRight2").setAttribute("opacity","0");
	      document.getElementById("moveDown2").setAttribute("opacity","0");
	      el = document.getElementById('animFocus2');
	      el.setAttribute("from", "0 -100");
	      el.setAttribute("to", "100 -100");
	      el.setAttribute("dur", "2s");
	      el.beginElement();
	}
	else if ( state == 6 ) {
	      document.getElementById("moveRight3").setAttribute("opacity","1");
	      document.getElementById("moveLeft3").setAttribute("opacity","1");
	}
	else if ( state == 7 ) {
	      document.getElementById("moveRight3").setAttribute("opacity","0");
	      document.getElementById("moveLeft3").setAttribute("opacity","0");
	      document.getElementById("focus").setAttribute("opacity","0");
	}
	
	if ( state < 7) state = state+1;

    }
    document.next = function() {
	      clickongrid(null);
    }
]]>
</script>

  <g
     id="layer1" />
   <rect onclick='clickongrid(evt)'
       width="800"
       height="800"
       x="0"
       y="0"
       id="gridArea2"
       style="fill:#ffffff;fill-opacity:0" />





</svg>
